<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>InitOption | webdnn</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/style.css">
	<link rel="stylesheet" href="../assets/css/prism.css">
	<script src="../assets/js/prism.js"></script>
</head>
<body>
<div class="sidenav">
	<nav class="tsd-navigation secondary menu-sticky">
		<ul>
			<li class="current tsd-kind-external-module tsd-is-external">
				<a href="../modules/webdnn.html">webdnn</a>
			</li>
			<li class=" tsd-kind-external-module tsd-is-external">
				<a href="../modules/webdnn_image.html">webdnn/image</a>
			</li>
			<li class=" tsd-kind-external-module tsd-is-external">
				<a href="../modules/webdnn_math.html">webdnn/math</a>
			</li>
		</ul>
	</nav>
</div>
<main class="contents">
	<header class="index-header">
		<span class="index-header-kind">Interface</span>
		<h1 class="index-header-name">
			InitOption
		</h1>
	</header>
	<div class="reflection-container">
		<div class="reflection-main">
			<section class="members-group members-group-comment tsd-kind-interface tsd-parent-kind-external-module">
				<div class="members-group-body">
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>Option structure of <a href="../modules/webdnn.html#load"><code>WebDNN.load</code></a></p>
						</div>
					</div>
				</div>
			</section>
			<div style="display: none;">
				<section class="members-group ">
					<header class="members-group-header">Inheritance hierarchy</header>
					<div class="members-group-body">
						<ul class="tsd-hierarchy">
							<li>
								<code class="target">InitOption</code>
							</li>
						</ul>
					</div>
				</section>
			</div>
			<section class="members-group ">
				<header class="members-group-header">Properties</header>
				<div class="members-group-body">
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="backendoptions" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="backendoptions" class="anchor"></a>
								<a href="#backendoptions" class="anchor-link">#</a>
								<code>
backend<wbr>Options:                    <code><span class="signature-type">object</span>                    </code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L151">[webdnn.ts:151]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>Backend-specific options. Currently (v1.3), this option has no effect.</p>
									</div>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="backendorder" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="backendorder" class="anchor"></a>
								<a href="#backendorder" class="anchor-link">#</a>
								<code>
backend<wbr>Order:                <code><code><a href="../modules/webdnn.html#backendname" class="signature-type">BackendName</a></code><span class="signature-symbol"> | </span><code><span class="signature-type">Array</span>                    </code></code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L146">[webdnn.ts:146]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>The order of backend names to be initialized.</p>
									</div>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="cachestrategy" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="cachestrategy" class="anchor"></a>
								<a href="#cachestrategy" class="anchor-link">#</a>
								<code>
cache<wbr>Strategy:                <code><code><span class="signature-type">"latest"</span>                    </code><span class="signature-symbol"> | </span><code><span class="signature-type">"networkFirst"</span>                    </code><span class="signature-symbol"> | </span><code><span class="signature-type">"cacheFirst"</span>                    </code><span class="signature-symbol"> | </span><code><span class="signature-type">"networkOnly"</span>                    </code><span class="signature-symbol"> | </span><code><span class="signature-type">"cacheOnly"</span>                    </code></code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L245">[webdnn.ts:245]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>WebDNN cache strategy. One of follows is available.</p>
									</div>
									<ul>
										<li><p><code>latest</code> (default)</p>
											<p>Fetch <code>descriptor.json</code> at first and check whether assets in server is same as cached assets. If it&#39;s same, use cached assets,
											otherwise, fetch all assets and replace cached assets.</p>
										</li>
										<li><p><code>networkFirst</code></p>
											<p>Fetch all asset files. If it succeeds, use fetched assets. If failed, use cached assets if exist, otherwise, an error is thrown.</p>
										</li>
										<li><p><code>cacheFirst</code></p>
											<p>If cache is exist, use cache, otherwise, fetch assets. If it failed, an error is thrown.</p>
										</li>
										<li><p><code>networkOnly</code></p>
											<p>Fetch all asset files. If failed, an error is thrown.</p>
										</li>
										<li><p><code>cacheOnly</code></p>
											<p>If cache is exist, use cache, otherwise, an error is thrown.</p>
										</li>
									</ul>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="progresscallback" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="progresscallback" class="anchor"></a>
								<a href="#progresscallback" class="anchor-link">#</a>
								<code>
progress<wbr>Callback:                    <code><span class="signature-type">function</span>                    </code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L167">[webdnn.ts:167]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>Callback function which is called to notice the progress status of loading binary data.</p>
									</div>
									<p>Currently Streaming fetch feature is not perfectly supported in browsers. Therefore, this option will be
									ignored in some web browsers.</p>
									<h3 id="examples">Examples</h3>
									<pre><code class="lang-js">let runner = await WebDNN.load('./model', {
    progressCallback: (loaded, total) =&gt; console.log(`${ (loaded/total*100).toFixed(1) }% Loaded`);
});
</code></pre>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="savecache" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="savecache" class="anchor"></a>
								<a href="#savecache" class="anchor-link">#</a>
								<code>
save<wbr>Cache:                    <code><span class="signature-type">boolean</span>                    </code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L250">[webdnn.ts:250]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>If true, WebDNN save fetched parameter data cache in available <code>WebStorage</code>. As default, it&#39;s <code>true</code>.</p>
									</div>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="transformurldelegate" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="transformurldelegate" class="anchor"></a>
								<a href="#transformurldelegate" class="anchor-link">#</a>
								<code>
transform<wbr>Url<wbr>Delegate:                    <code><span class="signature-type">function</span>                    </code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L218">[webdnn.ts:218]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>Delegate function which will be called with original url, and must return converted url strings.
											This function is called before WebDNN fetch any data (descriptor json file, and binary data)
										You can modified url to fetch data from other domain, for example.</p>
									</div>
									<p>If both
										<a href="webdnn.initoption.html#weightdirectory"><code>InitOption.weightDirectory</code></a> and
										<a href="webdnn.initoption.html#transformurldelegate"><code>InitOption.transformUrlDelegate</code></a> are specified,
										At first, all urls of binary weights&#39; are replaced by <a href="webdnn.initoption.html#weightdirectory"><code>InitOption.weightDirectory</code></a>, and then
									<a href="webdnn.initoption.html#transformurldelegate"><code>InitOption.transformUrlDelegate</code></a> are applied.</p>
									<h3 id="examples">Examples</h3>
									<p>Fetch binary data from other domain</p>
									<pre><code class="lang-js"><span class="hljs-comment">// Graph descriptor JSON file will be loaded from 'original.host.com/model', and</span>
<span class="hljs-comment">// model binary data will be loaded from 'custom.host.com/model'.</span>
WebDNN.load(<span class="hljs-string">'https://original.host.com/model'</span>, {
    <span class="hljs-attr">transformUrlDelegate</span>: <span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> ((<span class="hljs-regexp">/\.bin/</span>).test(url)) {
            url = url.replace(<span class="hljs-string">'original.host.com'</span>, <span class="hljs-string">'custom.host.com'</span>);
        }
        <span class="hljs-keyword">return</span> url;
    }
});
</code></pre>
								</div>
							</div>
						</section>
					</section>
					<section class="member tsd-kind-property tsd-parent-kind-interface">
						<a name="weightdirectory" class="anchor"></a>
						<div class="signatures">
							<header class="signatures-header">
								<a id="weightdirectory" class="anchor"></a>
								<a href="#weightdirectory" class="anchor-link">#</a>
								<code>
weight<wbr>Directory:                    <code><span class="signature-type">string</span>                    </code>        </code>
								<span class="signatures-source">
									<a href="https://github.com/mil-tokyo/webdnn/blob/3ffbe8b/src/descriptor_runner/webdnn.ts#L188">[webdnn.ts:188]</a>
								</span>
							</header>
						</div>
						<section class="members-group members-group-comment tsd-kind-property tsd-parent-kind-interface">
							<div class="members-group-body">
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>URL of directory that contains weight binary files.</p>
									</div>
									<p>If both
										<a href="webdnn.initoption.html#weightdirectory"><code>InitOption.weightDirectory</code></a> and
										<a href="webdnn.initoption.html#transformurldelegate"><code>InitOption.transformUrlDelegate</code></a> are specified,
										At first, all urls of binary weights&#39; are replaced by <a href="webdnn.initoption.html#weightdirectory"><code>InitOption.weightDirectory</code></a>, and then
									<a href="webdnn.initoption.html#transformurldelegate"><code>InitOption.transformUrlDelegate</code></a> are applied.</p>
									<h3 id="examples">Examples</h3>
									<pre><code class="lang-js"><span class="hljs-comment">// Graph descriptor JSON file will be loaded from 'original.host.com/model', and</span>
<span class="hljs-comment">// model binary data will be loaded from 'custom.host.com/model'.</span>
WebDNN.load(<span class="hljs-string">'https://original.host.com/model'</span>, {
    <span class="hljs-attr">weightDirectory</span>: <span class="hljs-string">'https://custom.host.com/model'</span>
});
</code></pre>
								</div>
							</div>
						</section>
					</section>
				</div>
			</section>
		</div>
		<div class="reflection-rightnav">
			<ul class="toc">
				<li>
					<header class="toc-header">Properties</header>
					<ul class="toc-list">
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#backendoptions" class="tsd-kind-icon">
								backend<wbr>Options
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#backendorder" class="tsd-kind-icon">
								backend<wbr>Order
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#cachestrategy" class="tsd-kind-icon">
								cache<wbr>Strategy
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#progresscallback" class="tsd-kind-icon">
								progress<wbr>Callback
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#savecache" class="tsd-kind-icon">
								save<wbr>Cache
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#transformurldelegate" class="tsd-kind-icon">
								transform<wbr>Url<wbr>Delegate
							</a>
						</li>
						<li class="tsd-kind-property tsd-parent-kind-interface">
							<a href="webdnn.initoption.html#weightdirectory" class="tsd-kind-icon">
								weight<wbr>Directory
							</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</main>
</body>
</html>